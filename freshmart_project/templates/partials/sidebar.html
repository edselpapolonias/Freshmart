<style>
  /* Custom green sidebar styles */
  .sb-sidenav-green {
    background-color: #198754; /* Bootstrap's green */
    color: #e6f4ea; /* Light greenish text for contrast */
  }
  .sb-sidenav-green .sb-nav-link-icon i {
    color: #d1e7dd; /* lighter green for icons */
  }
  .sb-sidenav-green .nav-link {
    color: #d1e7dd;
  }
  .sb-sidenav-green .nav-link:hover,
  .sb-sidenav-green .nav-link.active {
    color: #ffffff;
    background-color: #14532d; /* Darker green on hover/active */
  }
  .sb-sidenav-green .sb-sidenav-menu-heading {
    color: #bbe4b5; /* Soft green for headings */
  }
  .sb-sidenav-green .sb-sidenav-footer {
    background-color: #14532d;
    color: #c7f0c2;
  }
  /* Date/time above Core header */
  #sidebarDateTime {
    font-size: 0.875rem;
    color: #c7f0c2;
    font-weight: 500;
    padding-left: 1rem;
    padding-bottom: 0.25rem;
    user-select: none;
  }
</style>

<div id="layoutSidenav_nav">
    <nav class="sb-sidenav accordion sb-sidenav-green" id="sidenavAccordion">
        <div class="sb-sidenav-menu">
            <div class="nav">

                <!-- Date and Time added above Core header -->
                <div id="sidebarDateTime"></div>

                <div class="sb-sidenav-menu-heading text-uppercase fw-bold">Core</div>
                <a class="nav-link" href="{% url 'index' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                    Dashboard
                </a>

                <div class="sb-sidenav-menu-heading text-uppercase fw-bold mt-3">Main</div>
                <a class="nav-link" href="{% url 'product_manage' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-edit"></i></div>
                    Product Management
                </a>
                <a class="nav-link" href="{% url 'category_list_add' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-tags"></i></div>
                    Category Management
                </a>
                <a class="nav-link" href="{% url 'stock_management' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-boxes"></i></div>
                    Stock Management
                </a>
                <a class="nav-link" href="{% url 'stock_history' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-history"></i></div>
                    Stock History
                </a>

                {% if request.user.is_authenticated and request.user.userprofile.role == 'Admin' %}
                <div class="sb-sidenav-menu-heading text-uppercase fw-bold mt-3">Users</div>
                <a class="nav-link" href="{% url 'user_list' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-users"></i></div>
                    Users List
                </a>
                <a class="nav-link" href="{% url 'admin_verification' %}">
                    <div class="sb-nav-link-icon"><i class="fas fa-user-check"></i></div>
                    Admin Verification
                </a>
                {% endif %}
            </div>
        </div>

        <div class="sb-sidenav-footer border-top mt-auto px-3 py-2">
            <div class="small">Logged in as:</div>
            <div class="fw-semibold">
                {{ request.user.first_name }} {{ request.user.last_name }}
            </div>
        </div>
    </nav>
</div>

<script>
    function updateSidebarDateTime() {
        const now = new Date();
        const options = {
            year: 'numeric', month: 'short', day: 'numeric',
            hour: '2-digit', minute: '2-digit', second: '2-digit',
            hour12: false
        };
        const formatted = now.toLocaleString(undefined, options);
        document.getElementById('sidebarDateTime').textContent = formatted;
    }
    updateSidebarDateTime();
    setInterval(updateSidebarDateTime, 1000);
</script>